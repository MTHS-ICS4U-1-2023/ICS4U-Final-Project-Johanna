!function(){"use strict";let e,t;const l=20,o=10;let r=4,i=0,n=0,f="Playing",c=[...Array(l)].map((e=>Array(o).fill(0))),a=[[1,0],[0,1],[1,1],[2,1]];const u=[],y=["purple","cyan","blue","yellow","orange","green","red"];let d;const h=[...Array(l)].map((e=>Array(o).fill(0)));let s=[...Array(l)].map((e=>Array(o).fill(0)));const g={IDLE:0,DOWN:1,LEFT:2,RIGHT:3};let p=g.IDLE;class x{constructor(e,t){Object.defineProperty(this,"xCoord",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"yCoord",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.xCoord=e,this.yCoord=t}}function C(){for(let e=0;e<a.length;e++){let l=a[e][0]+r,o=a[e][1]+i;h[l][o]=1;let n=c[l][o].xCoord,f=c[l][o].yCoord;t.fillStyle=d,t.fillRect(n,f,21,21)}}function T(e){"Game Over"!=f&&(65===e.keyCode?(p=g.LEFT,S()||b()||(k(),r--,C())):68===e.keyCode?(p=g.RIGHT,S()||b()||(k(),r++,C())):83===e.keyCode?R():87===e.keyCode&&function(){let e=[],t=a,l=[...a];for(let l=0;l<t.length;l++){let o=t[l][0],r=t[l][1],i=w()-r,n=o;e.push([i,n])}k();try{a=e,C()}catch(e){e instanceof TypeError&&(a=l,k(),C())}}())}function R(){(function(){let e=a,u=!1;for(let t=0;t<e.length;t++){let o=e[t],n=o[0]+r,f=o[1]+i;if(p===g.DOWN&&f++,f>=l){u=!0;break}if(f<l&&1===h[n][f]&&"string"==typeof s[n][f]){u=!0;break}}if(u)if(i<=2)f="Game Over",t.fillStyle="white",t.fillRect(310,242,140,30),t.fillStyle="black",t.fillText(f,310,261);else{for(let t=0;t<e.length;t++){let l=e[t],o=l[0]+r,n=l[1]+i;s[o][n]=d}!function(){let e=0,r=0;for(let i=0;i<l;i++){let l=!0;for(let e=0;e<o;e++){let t=s[e][i];if(0===t||void 0===t){l=!1;break}}if(l){0===r&&(r=i),e++;for(let e=0;e<o;e++){s[e][i]=0,h[e][i]=0;let l=c[e][i].xCoord,o=c[e][i].yCoord;t.fillStyle="white",t.fillRect(l,o,21,21)}}}e>0&&(n+=10,t.fillStyle="white",t.fillRect(310,109,140,19),t.fillStyle="black",t.fillText(n.toString(),310,127),function(e,l){for(var r=l-1;r>=0;r--)for(var i=0;i<o;i++){var n=r+e,f=s[i][r],a=s[i][n];if("string"==typeof f){a=f,h[i][n]=1,s[i][n]=f;let e=c[i][n].xCoord,l=c[i][n].yCoord;t.fillStyle=a,t.fillRect(e,l,21,21),f=0,h[i][r]=0,s[i][r]=0,e=c[i][r].xCoord,l=c[i][r].yCoord,t.fillStyle="white",t.fillRect(e,l,21,21)}}}(e,r))}(),v(),p=g.IDLE,r=4,i=0,C()}return u})()||(p=g.DOWN,k(),i++,C())}function k(){for(let e=0;e<a.length;e++){let l=a[e][0]+r,o=a[e][1]+i;h[l][o]=0;let n=c[l][o].xCoord,f=c[l][o].yCoord;t.fillStyle="white",t.fillRect(n,f,21,21)}}function v(){let e=Math.floor(Math.random()*u.length);a=u[e],d=y[e]}function S(){for(let e=0;e<a.length;e++){let t=a[e][0]+r;if(t<=0&&p===g.LEFT)return!0;if(t>=11&&p==g.RIGHT)return!0}return!1}function b(){let e=a,t=!1;for(let l=0;l<e.length;l++){let o=e[l],n=o[0]+r,f=o[1]+i;if(p===g.LEFT?n--:p===g.RIGHT&&n++,"string"==typeof s[n][f]){t=!0;break}}return t}function w(){let e=0;for(let t=0;t<a.length;t++){let l=a[t];l[0]>e&&(e=l[0])}return e}document.addEventListener("DOMContentLoaded",(function(){e=document.getElementById("my-canvas"),t=e.getContext("2d"),e.width=936,e.height=956,t.scale(1.5,1.5),t.fillStyle="white",t.fillRect(0,0,e.width,e.height),t.strokeStyle="black",t.strokeRect(8,8,280,462),t.fillStyle="black",t.font="21px Arial",t.fillText("Score",300,98),t.strokeRect(300,107,161,24),t.fillText(n.toString(),310,127),t.fillText("WIN/LOSE",300,221),t.fillText(f,310,261),t.strokeRect(300,232,161,95),t.fillText("CONTROLS",300,354),t.strokeRect(300,366,161,104),t.font="19px Arial",t.fillText("A: Move Left",310,388),t.fillText("D: Move Right",310,413),t.fillText("S: Move Down",310,438),t.fillText("W: Rotate Right",310,463),document.addEventListener("keydown",T),u.push([[1,0],[0,1],[1,1],[2,1]]),u.push([[0,0],[1,0],[2,0],[3,0]]),u.push([[0,0],[0,1],[1,1],[2,1]]),u.push([[0,0],[1,0],[0,1],[1,1]]),u.push([[2,0],[0,1],[1,1],[2,1]]),u.push([[1,0],[2,0],[0,1],[1,1]]),u.push([[0,0],[1,0],[1,1],[2,1]]),v(),function(){let e=0,t=0;for(let l=9;l<=446;l+=23){for(let o=11;o<=264;o+=23)c[e][t]=new x(o,l),e++;t++,e=0}}(),C()})),window.setInterval((function(){"Game Over"!=f&&R()}),1e3)}();
//# sourceMappingURL=bundle.js.map
